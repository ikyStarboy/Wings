<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZedxChat</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <nav class="top-nav">
                <button class="menu-button" onclick="toggleSidebar()">â˜°</button>
                <div class="app-title">ZedxChat</div>
                <div class="top-right-buttons">
                    <button class="logout-button" onclick="logout()">Logout</button>
                    <button class="profile-button">
                        <img id="profilePic" src="https://via.placeholder.com/24" alt="Profile">
                    </button>
                </div>
            </nav>
            <div class="user-info">
                <span id="displayName"></span>
                <span id="userMoney">Money: 0</span>
            </div>
        </header>

        <div class="sidebar" id="sidebar">
            <a href="#" onclick="showChatScreen()">Chat Publik</a>
            <a href="#" onclick="showInventoryScreen()">Inventory</a>
            <a href="#" onclick="showGachaScreen()">Gacha</a>
            <a href="#" onclick="showSellScreen()">Sell</a>
            <a href="#" onclick="reportAdmin()">Report Admin</a>
        </div>

        <main id="mainContent" class="main-content">
            <div id="authScreen" class="screen">
                <h2>Login / Register</h2>
                <input type="email" id="authEmail" placeholder="Email">
                <input type="password" id="authPassword" placeholder="Password">
                <button onclick="login()">Login</button>
                <button onclick="register()">Register</button>
            </div>

            <div id="chatScreen" class="screen hidden">
                <div class="chat-messages" id="chatMessages">
                    </div>
                <div id="replyToContainer" class="reply-to-container hidden">
                    Merespon: <span id="replyToText"></span>
                    <button onclick="cancelReply()">X</button>
                </div>
                <div class="message-input-area">
                    <button class="attach-button" onclick="document.getElementById('imageUpload').click()">ðŸ“Ž</button>
                    <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                    <input type="text" id="messageInput" placeholder="Ketik pesan...">
                    <button class="send-button" onclick="sendMessage()">Kirim</button>
                </div>
            </div>

            <div id="gachaScreen" class="screen hidden">
                <h2>Gacha Kartu</h2>
                <button id="gachaButton" class="gacha-button">Lakukan Gacha (Biaya: 1000 Money)</button>
                <div id="gachaResult" class="gacha-result hidden">
                    <img id="gachaCardImage" src="" alt="Kartu Gacha" style="max-width: 100%; display: none;">
                    <p id="gachaCardName"></p>
                    <p id="gachaCardDescription"></p>
                </div>
            </div>

            <div id="inventoryScreen" class="screen hidden">
                <h2>Inventory Kartu Anda</h2>
                <div id="userCards" class="card-list">
                    </div>
            </div>

            <div id="sellScreen" class="screen hidden">
                <h2>Jual Kartu</h2>
                <div id="sellableCards" class="card-list">
                    </div>
            </div>

            <div id="reportAdminScreen" class="screen hidden">
                <h2>Laporan ke Admin</h2>
                <p>Silakan masukkan ID pesan yang ingin Anda laporkan:</p>
                <input type="text" id="reportMessageIdInput" placeholder="ID Pesan">
                <textarea id="reportReasonInput" placeholder="Alasan laporan (opsional)"></textarea>
                <button onclick="submitReport()">Kirim Laporan</button>
            </div>
        </main>

        <div id="notification" class="notification"></div>

        <nav class="bottom-nav">
            <button class="nav-item" onclick="showChatScreen()">
                <img src="https://img.icons8.com/ios-filled/50/ffffff/speech-bubble.png" alt="Chat">
                <span>Chat</span>
            </button>
            <button class="nav-item" onclick="showInventoryScreen()">
                <img src="https://img.icons8.com/ios-filled/50/ffffff/box.png" alt="Inventory">
                <span>Inventory</span>
            </button>
            <button class="nav-item" onclick="showGachaScreen()">
                <img src="https://img.icons8.com/ios-filled/50/ffffff/star.png" alt="Gacha">
                <span>Gacha</span>
            </button>
            <button class="nav-item" onclick="showSellScreen()">
                <img src="https://img.icons8.com/ios-filled/50/ffffff/money-bag.png" alt="Sell">
                <span>Sell</span>
            </button>
        </nav>
    </div>

    <script src="script.js"></script>
</body>
</html>
